<p-card>
  <p-table
    #dt
    currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
    [showCurrentPageReport]="true"
    [value]="data"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    [loading]="loading"
    [paginator]="true"
  >
    <ng-template #caption>
      <div class="flex justify-between">
        <h3 class="m-0 text-lg font-semibold">{{ this.header }}</h3>
        <div class="flex gap-2">
          <p-button
            label="Novo"
            icon="pi pi-plus"
            (onClick)="this.estadoCivilDialog.show(true)"
          ></p-button>
          <p-button
            icon="pi pi-refresh"
            severity="secondary"
            [outlined]="true"
            (onClick)="this.load()"
          ></p-button>
        </div>
      </div>
    </ng-template>
    <ng-template #header>
      <tr>
        <th>Descrição</th>
        <th style="text-align: center; width: 100px">Ações</th>
      </tr>
    </ng-template>
    <ng-template #body let-entity>
      <tr>
        <td>{{ entity.descricao }}</td>
        <td style="text-align: center">
          <feature-actions
            (onEditing)="
              this.estadoCivilDialog.selected = entity;
              this.estadoCivilDialog.show(false)
            "
            (onRemoving)="
              this.estadoCivilDialog.selected = entity; onRemoving()
            "
          ></feature-actions>
        </td>
      </tr>
    </ng-template>
    <ng-template #emptymessage>
      <tr>
        <td>Nenhum registro encontrado.</td>
      </tr>
    </ng-template>
  </p-table>
</p-card>

<estado-civil-dialog (onSaving)="onSave($event)"></estado-civil-dialog>

<p-confirmDialog />
